{"ast":null,"code":"import _defineProperty from \"/Users/advance/projects/reactProjects/headless-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/advance/projects/reactProjects/headless-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/advance/projects/reactProjects/headless-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/advance/projects/reactProjects/headless-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/advance/projects/reactProjects/headless-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/advance/projects/reactProjects/headless-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/advance/projects/reactProjects/headless-app/src/Components/Elements/Register/Register.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './Register.css';\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Register)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      success: '',\n      error: '',\n      redirect: false\n    };\n\n    _this.handleChange = function (event) {\n      var key = event.target.name;\n      var value = event.target.value;\n\n      _this.setState(_defineProperty({}, key, value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.state.password !== _this.state.confirmPassword) {\n        _this.setState({\n          success: '',\n          error: 'Passwords do not match'\n        });\n\n        return;\n      }\n\n      axios.post('http://backenddrupal.test/user/register?_format=json', {\n        name: [{\n          \"value\": _this.state.username\n        }],\n        mail: [{\n          \"value\": _this.state.email\n        }],\n        pass: [{\n          \"value\": _this.state.password\n        }]\n      }).then(function (response) {\n        this.setState({\n          success: 'Registration successful',\n          error: ''\n        });\n        this.setState({\n          redirect: true\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          username = _this$state.username,\n          email = _this$state.email,\n          password = _this$state.password,\n          confirmPassword = _this$state.confirmPassword,\n          redirect = _this$state.redirect,\n          success = _this$state.success;\n\n      if (redirect) {\n        return React.createElement(Redirect, {\n          to: \"/user/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"username\",\n        value: username,\n        onChange: this.handleChange,\n        required: true,\n        type: \"text\",\n        placeholder: \"Enter username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"email\",\n        value: email,\n        onChange: this.handleChange,\n        required: true,\n        type: \"text\",\n        placeholder: \"Enter email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"password\",\n        value: password,\n        onChange: this.handleChange,\n        required: true,\n        type: \"password\",\n        placeholder: \"Enter password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"confirmPassword\",\n        value: confirmPassword,\n        onChange: this.handleChange,\n        required: true,\n        type: \"password\",\n        placeholder: \"Confirm password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/user/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Already have an account?\"))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\n;\nexport default Register;","map":{"version":3,"sources":["/Users/advance/projects/reactProjects/headless-app/src/Components/Elements/Register/Register.jsx"],"names":["React","Component","Redirect","Link","axios","Register","state","username","email","password","confirmPassword","success","error","redirect","handleChange","event","key","target","name","value","setState","handleSubmit","preventDefault","post","mail","pass","then","response"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Redirect, Link} from 'react-router-dom';\nimport axios from 'axios';\nimport './Register.css';\n\nclass Register extends Component{\n\n    state = {\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        success: '',\n        error: '',\n        redirect: false\n    };\n    \n    handleChange = (event) =>{\n        const key = event.target.name;\n        const value = event.target.value;\n\n        this.setState({\n            [key]: value\n        })\n    }\n\n    handleSubmit = (event) =>{\n\n        event.preventDefault();\n        if (this.state.password !== this.state.confirmPassword) {\n            this.setState({\n                success: '',\n                error: 'Passwords do not match'\n            });\n            return;\n        }\n\n        axios.post('http://backenddrupal.test/user/register?_format=json', {\n            name: [{\"value\": this.state.username}],\n            mail: [{\"value\": this.state.email}],\n            pass: [{\"value\": this.state.password}]\n        })\n        .then(function (response) {\n            this.setState({\n                success: 'Registration successful',\n                error: ''\n            });\n            this.setState({redirect: true});\n        });\n    }\n\n    render(){\n\n        const {username, email, password, confirmPassword,redirect,success} = this.state;\n\n        if (redirect) {\n            return (\n                <Redirect to=\"/user/login\" />\n            );\n        }\n\n        return(\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <div><input name = 'username' value={username} onChange={this.handleChange} required type ='text' placeholder='Enter username'/></div>\n                    <div><input name = 'email' value={email} onChange={this.handleChange} required type ='text' placeholder='Enter email'/></div>\n                    <div><input name = 'password' value={password} onChange={this.handleChange} required type ='password' placeholder='Enter password'/></div>\n                    <div><input name = 'confirmPassword' value={confirmPassword} onChange={this.handleChange} required type ='password' placeholder='Confirm password'/></div>\n                    <button type ='submit'>Register</button>\n                    <div><Link to=\"/user/login\">Already have an account?</Link></div>\n                </form>\n            </div>\n        );\n    }\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}